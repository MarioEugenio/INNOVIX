<div ng-controller="ReportItemCtrl" ng-init="init()">
 <div>
    <div class="modal-header">
        <button  class="close"  ng-click="close()">&times;</button>
        <h3>Detalhamento Item</h3>
    </div>
    <div class="modal-body">
        <div>
            <li class="dropdown" style="display: inline;">
                <a href="#" class=" btn btn-primary  dropdown-toggle"  data-toggle="dropdown"><span class="glyphicon glyphicon-print"></span> Exportar <span class="caret"></span></a>
                <ul class="dropdown-menu " role="menu">
			        <li> <a  download="relatorio de itens.xls" href="#" onclick="return ExcellentExport.excel(this, 'reportItenExcel', 'RelatorioExcel');">Excel</a></li>
			        <li><a href="#/report/item/list" ng-click="exportPDF()">PDF</a></li>
		        </ul>
            </li>
        </div>
        <br />

        <div class="panel panel-default">
          <div class="panel-body">
              <div class="row">
                <div class="col-lg-12 border-dasher">
                    <span><strong style="font-size:20px;">AWB:&nbsp;</strong>{{ objItem.awb }}</span>
                </div>
                <div >
                    <div class="painel-information-now">
                        <div class="painel-information">Origem:</div><div class="painel-value">{{ objItem.origin }}</div>
                    </div>
                    <div class="painel-information-now">
                        <div class="painel-information">Status:</div><div class="painel-value">{{ objItem.status }}</div>
                    </div>
                    <div class="painel-information-now">
                        <div class="painel-information">Destino:</div><div class="painel-value">{{ objItem.destiny }}</div>
                    </div>
                    <div class="painel-information-now">
                        <div class="painel-information">Lacre:</div><div class="painel-value">{{ objItem.lacre }}</div>
                    </div>
                    <div class="painel-information-now">
                        <div class="painel-information">Rota:</div><div class="painel-value">{{ objItem.route }}</div>
                    </div>
                    <div class="painel-information-now">
                        <div class="painel-information">Embarque:</div><div class="painel-value">{{ objItem.embarque }}</div>
                    </div>
                    <div class="painel-information-now">
                        <div class="painel-information">Dt. Atualização:</div><div class="painel-value">{{ objItem.dtAtualizacao }}</div>
                    </div>
                    <div class="painel-information-now">
                        <div class="painel-information">Dt. Cadastro:</div><div class="painel-value">{{ objItem.dtCadastro }}</div>
                    </div>
                    <div class="painel-information-now">
                        <div class="painel-information">Responsável:</div><div class="painel-value">{{ objItem.responsavel }}</div>
                    </div>
                    <div class="painel-information-now">
                        <div class="painel-information">EPC:</div><div class="painel-value">{{ objItem.epc }}</div>
                    </div>
                </div>
            </div>
          </div>
        </div>

        <div ng-show="list.length == 0" class="alert alert-warning" role="alert">
            <a href="#" class="alert-link"><span class="glyphicon glyphicon-warning-sign"></span> Não houve retorno de registros</a>
        </div>

        <div ng-show="list.length" class="panel panel-default">
            <div class="panel-heading">Histórico do item</div>
            <table class="table table-bordered table-striped">
                <thead>
                    <tr class="table-header">
                        <th>Local<i ng-class="sorting('local')" ng-click="sortingTable('local')" class="alingArrowRight glyphicon "></i></th>
                        <th>Equipamento<i ng-class="sorting('equipamento')" ng-click="sortingTable('equipamento')" class="alingArrowRight glyphicon "></i></th>
                        <th>Ação<i ng-class="sorting('acao')" ng-click="sortingTable('acao')" class="alingArrowRight glyphicon "></i></th>
                        <th>Responsável<i ng-class="sorting('responsavel')" ng-click="sortingTable('responsavel')" class="alingArrowRight glyphicon "></i></th>
                        <th>Ult. Atualização<i ng-class="sorting('dt_atualizacao')" ng-click="sortingTable('dt_atualizacao')" class="alingArrowRight glyphicon "></i></th>
                    </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="item in list">
                        <td>{{ item.local }}</td>
                        <td>{{ item.equipamento }}</td>
                        <td>{{ item.acao }}</td>
                        <td>{{ item.responsavel }}</td>
                        <td>{{ item.dtAtualizacao }}</td>
                    </tr>
                </tbody>
                <tfoot>
                    <tr>
                        <td colspan="6" class="table-footer">
                            <div class="pull-left">
                                <pagination  previous-text="&lsaquo;" next-text="&rsaquo;" first-text="&laquo;" last-text="&raquo;" total-items="totalItems" ng-model="currentPage" max-size="maxSize" ng-change="pageChanged()" boundary-links="true" rotate="false" num-pages="numPages"></pagination>
                            </div>
                            <div class="pull-right table-count">
                                <h5>Total de registros <span class="label label-primary">{{ totalItems }}</span></h5>
                            </div>
                        </td>
                    </tr>
                </tfoot>
            </table>

             </div>
        </div>

        <div class="modal-footer">
            <button class="btn btn-default" ng-click="close()">Fechar</button>
        </div>
    </div>
    <div id="tableReport">
            <table id="reportItenExcel" class="table table-striped" style="display:none">
                <thead>
                    <tr >
                        <th></th>
                    </tr>
                </thead>
                <tbody>
                    <tr >
                        <td>Detalhamento</td>
                    </tr>
                </tbody>
                <thead>
                    <tr >
                        <th>AWB</th>
                        <th>Origem</th>
                        <th>Status</th>
                        <th>Destino</th>
                        <th>Lacre</th>
                        <th>Rota</th>
                        <th>Embarque</th>
                        <th>Dt. Atualização</th>
                        <th>Dt. Cadastro</th>
                        <th>Responsável</th>
                        <th>EPC</th>
                    </tr>
                </thead>
                <tbody>
                    <tr >
                        <td>{{ objItem.awb }}</td>
                        <td>{{ objItem.origin }}</td>
                        <td>{{ objItem.status }}</td>
                        <td>{{ objItem.destiny }}</td>
                        <td>{{ objItem.lacre }}</td>
                        <td>{{ objItem.route }}</td>
                        <td>{{ objItem.embarque }}</td>
                        <td>{{ objItem.dtAtualizacao }}</td>
                        <td>{{ objItem.dtCadastro }}</td>
                        <td>{{ objItem.responsavel }}</td>
                        <td>{{ objItem.epc }}</td>
                    </tr>
                </tbody>
                <thead>
                    <tr >
                        <th></th>
                    </tr>
                </thead>
                <tbody>
                    <tr >
                        <td>Itens</td>
                    </tr>
                </tbody>
                 <thead>
                    <tr >
                        <th>Local</th>
                        <th>Equipamento</th>
                        <th>acao</th>
                        <th>responsavel</th>
                        <th>Ult. Atualização</th>
                    </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="item in export">
                        <td>{{ item.local }}</td>
                        <td>{{ item.equipamento }}</td>
                        <td>{{ item.acao }}</td>
                        <td>{{ item.responsavel }}</td>
                        <td>{{ item.dtAtualizacao }}</td>
                    </tr>
                </tbody>
            </table>

        <table id="reportItenPDFItem" class="table table-striped" style="display:none">
                 <thead>
                    <tr >
                        <th>Local</th>
                        <th>Equipamento</th>
                        <th>acao</th>
                        <th>responsavel</th>
                        <th>Ult. Atualização</th>
                    </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="item in export">
                        <td>{{ item.local }}</td>
                        <td>{{ item.equipamento }}</td>
                        <td>{{ item.acao }}</td>
                        <td>{{ item.responsavel }}</td>
                        <td>{{ item.dtAtualizacao }}</td>
                    </tr>
                </tbody>
            </table>
       </div>
</div>



