<div ng-controller="ReportUserListCtrl" ng-init="init()">
    <ol class="breadcrumb">
      <li><a href="#/home/init">Home</a></li>
      <li class="active">Logs de Usuarios</li>
    </ol>

 <div  class="page-header">
    <h3>Logs</h3>
    </div>
    <p>
 
        <div class="panel panel-default">
          <div class="panel-heading">Pesquise logs cadastrados</div>
          <div class="panel-body">
            <div class="row">
              <div class="col-lg-12">
                <div class="input-group">
                    <div class="col-lg-6">
                        <div class="form-group input-group">
                              <input type="text" class="form-control" readonly="true" placeholder="Data Ação" datepicker-popup="{{format}}" ng-model="search.dtAction" is-open="opened" datepicker-options="dateOptions" date-disabled="disabled(date, mode)" ng-required="true" close-text="Close" />
                              <span class="input-group-btn">
                                <button type="button" class="btn btn-default" ng-click="open($event)"><i class="glyphicon glyphicon-calendar"></i></button>
                              </span>
                        </div>
                    </div>
                    <div class="col-lg-6">
                        <div class="form-group">
                            <input type="text" class="form-control" ng-model="search.search" placeholder="Nome/CPF">
                        </div>
                    </div>
                    <div class="input-group-btn">
                        <button class="btn btn-default" ng-click="searchUser(1)" type="button"><span class="glyphicon glyphicon-search"></span> Pesquisar</button>
                    </div>
                    <div class="input-group-btn">
                        <button class="btn btn-default" ng-click="clear()" type="button"><span class="glyphicon glyphicon-trash"></span> Limpar</button>
                    </div>
                </div><!-- /input-group -->
              </div><!-- /.col-lg-6 -->
            </div>
          </div>
        </div>

        <div>
            <li class="dropdown" style="display: inline;">
                <a href="#" class=" btn btn-primary  dropdown-toggle"  data-toggle="dropdown"><span class="glyphicon glyphicon-print"></span> Exportar <span class="caret"></span></a>
                <ul class="dropdown-menu " role="menu">
			        <li> <a  download="logs de usuario.xls" href="#" onclick="return ExcellentExport.excel(this, 'reportItens', 'RelatorioExcel');">Excel</a></li>
			        <li><a href="#/report/user/list" ng-click="exportPDF()">PDF</a></li>
		        </ul>
            </li>
        </div>
        <br />

        <div ng-show="list.length == 0" class="alert alert-warning" role="alert">
            <a href="#" class="alert-link"><span class="glyphicon glyphicon-warning-sign"></span> Não houve retorno de registros</a>
        </div>

        <div ng-show="list.length" class="panel panel-default">
            <table class="table table-bordered table-striped">
                <thead>
                    <tr class="table-header">
                        <th>Nome<i ng-class="sorting('nome')" ng-click="sortingTable('nome')" class="alingArrowRight glyphicon "></i></th>
                        <th>CPF / CNPJ<i ng-class="sorting('cpf')" ng-click="sortingTable('cpf')" class="alingArrowRight glyphicon "></i></th>
                        <th>Operação<i ng-class="sorting('operacao')" ng-click="sortingTable('operacao')" class="alingArrowRight glyphicon "></i></th>
                        <th>Data<i ng-class="sorting('dt_atualizacao')" ng-click="sortingTable('dt_atualizacao')" class="alingArrowRight glyphicon "></i></th>
                    </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="item in list">
                        <td>{{ item.noUsuario }}</td>
                        <td>{{ item.codCpfCnpj }}</td>
                        <td>{{ item.noDesc }}</td>
                        <td>{{ item.dthLog }}</td>
                    </tr>
                </tbody>
                <tfoot>
                    <tr>
                        <td colspan="7" class="table-footer">
                            <div class="pull-left">
                                <pagination  previous-text="&lsaquo;" next-text="&rsaquo;" first-text="&laquo;" last-text="&raquo;" total-items="totalItems" ng-model="currentPage" max-size="maxSize" ng-change="pageChanged()" boundary-links="true" rotate="false" num-pages="numPages"></pagination>
                            </div>
                            <div class="pull-right table-count">
                                <h5>Total de registros <span class="label label-primary">{{ totalItems }}</span></h5>
                            </div>
                        </td>
                    </tr>
                </tfoot>
            </table>
        </div>
       <div id="tableReport">
            <table id="reportItens" class="table table-striped" style="display:none">
                <thead>
                    <tr >
                        <th>Nome</th>
                        <th>CPF / CNPJ</th>
                        <th>Operação</th>
                        <th>Data</th>
                    </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="item in export">
                        <td>{{ item.noUsuario }}</td>
                        <td>{{ item.codCpfCnpj }}</td>
                        <td>{{ item.noDesc }}</td>
                        <td>{{ item.dthLog }}</td>
                    </tr>
                </tbody>
            </table>
       </div>
    </p>
</div>




